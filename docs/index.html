<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>senseBox API Wrapper • senseBox</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="senseBox API Wrapper">
<meta property="og:description" content="An R API wrapper for the senseBox project. Download and analyse environmental data provided by &lt;https://sensebox.de/en/&gt;.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-84499524-2"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-84499524-2');
</script>
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">senseBox</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li>
  <a href="articles/Getting_started_with_the_R_package_senseBox.html">Getting Started with the R-package senseBox</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="news/index.html">
    <span class="fa fa-newspaper-o"></span>
     
    news
  </a>
</li>
<li>
  <a href="reference/index.html">
    <span class="fa fa-file-code-o"></span>
     
    functions
  </a>
</li>
<li>
  <a href="https://github.com/JohannesFriedrich/senseBox">
    <span class="fa fa-github fa-lg"></span>
     
    github
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">


<div id="motivation" class="section level3">
<h3 class="hasAnchor">
<a href="#motivation" class="anchor"></a>Motivation</h3>
<p>The senseBox is a do-it-yourself kit for stationary and mobile sensor stations. With senseBox you can make measurements, helping to answer a variety of scientific questions and to support Citizen Science Projects from the local to global scale. Data collected by senseBox can increase the measured density of various enviromental factors and can contribute to more precise statements regarding climate, pollution or traffic.</p>
<p>openSenseMap is the platform for the publishing of senseBox and other open sensor data. Each senseBox transmits its measurements directly to the map, where anyone can observe, analyze and download the data.</p>
<p>This is the point where this <strong>R</strong>-pacakge comes into play: The <strong>R</strong>-package senseBox provides access to the senseBox API and enables the user to download, analyse and visualise the data provided by registered senseBoxes.</p>
<p>With pacakges like <code>ggplot2</code> or <code>plotly</code> <strong>R</strong> is the perfect tool to visualise data. In the next chapter you find a short introduction to the basic usage of this <strong>R</strong>-package and some examples how to visualise the data.</p>
</div>
<div id="installation" class="section level3">
<h3 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h3>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw">if</span><span class="op">(</span><span class="op">!</span><span class="kw"><a href="https://rdrr.io/r/base/library.html">require</a></span><span class="op">(</span><span class="st"><a href="https://devtools.r-lib.org/">"devtools"</a></span><span class="op">)</span><span class="op">)</span>
  <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"devtools"</span><span class="op">)</span>
<span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org//reference/remote-reexports.html">install_github</a></span><span class="op">(</span><span class="st">"JohannesFriedrich/senseBox"</span><span class="op">)</span></code></pre></div>
</div>
<div id="usage" class="section level3">
<h3 class="hasAnchor">
<a href="#usage" class="anchor"></a>Usage</h3>
<p>Get some information about the senseBox project and list all senseBoxIds</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/JohannesFriedrich/senseBox">senseBox</a></span><span class="op">)</span>
<span class="co">## Loading required package: httr</span>

<span class="va">stats</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_senseBox_stats.html">get_senseBox_stats</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<table class="table">
<thead><tr>
<th style="text-align:left;">
variable
</th>
<th style="text-align:right;">
value
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
Number of senseBoxes
</td>
<td style="text-align:right;">
8615
</td>
</tr>
<tr>
<td style="text-align:left;">
Number of Measurements
</td>
<td style="text-align:right;">
9775509322
</td>
</tr>
<tr>
<td style="text-align:left;">
Number of measurements in last minute
</td>
<td style="text-align:right;">
5873
</td>
</tr>
</tbody>
</table>
<p>With the function <code><a href="reference/get_senseBox_Ids.html">get_senseBox_Ids()</a></code> you obtain all available senseBox Ids and the name of the station.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">Id_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_senseBox_Ids.html">get_senseBox_Ids</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<table class="table">
<thead><tr>
<th style="text-align:left;">
senseBoxId
</th>
<th style="text-align:left;">
name
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
5386026e5f08822009b8b60d
</td>
<td style="text-align:left;">
CALIMERO
</td>
</tr>
<tr>
<td style="text-align:left;">
538ee6a4a83415541576b777
</td>
<td style="text-align:left;">
SenGIS Arbeitsgruppe - Uni Hohenheim
</td>
</tr>
<tr>
<td style="text-align:left;">
5391be52a8341554157792e6
</td>
<td style="text-align:left;">
LeKa Berlin
</td>
</tr>
<tr>
<td style="text-align:left;">
539c00c2a83415541578eaf5
</td>
<td style="text-align:left;">
IV Gummersbach
</td>
</tr>
<tr>
<td style="text-align:left;">
539fec94a8341554157931d7
</td>
<td style="text-align:left;">
The PaderWarrior Reloded
</td>
</tr>
<tr>
<td style="text-align:left;">
53a0017aa834155415793281
</td>
<td style="text-align:left;">
Alt-Lietzow
</td>
</tr>
</tbody>
</table>
<p>You are just interested in senseBoxes, which collect data from “indoor”? So use the function <code><a href="reference/search_senseBox.html">search_senseBox()</a></code>.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">indoor</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/search_senseBox.html">search_senseBox</a></span><span class="op">(</span>exposure <span class="op">=</span>  <span class="st">"indoor"</span><span class="op">)</span></code></pre></div>
<table class="table">
<thead><tr>
<th style="text-align:left;">
senseBoxId
</th>
<th style="text-align:left;">
exposure
</th>
<th style="text-align:left;">
name
</th>
<th style="text-align:left;">
createdAt
</th>
<th style="text-align:left;">
model
</th>
<th style="text-align:left;">
phenomena
</th>
<th style="text-align:left;">
unit
</th>
<th style="text-align:left;">
sensorIds
</th>
<th style="text-align:left;">
sensorType
</th>
<th style="text-align:right;">
long
</th>
<th style="text-align:right;">
lat
</th>
<th style="text-align:left;">
grouptag
</th>
<th style="text-align:left;">
updatedAt
</th>
<th style="text-align:left;">
weblink
</th>
<th style="text-align:left;">
lastMeasurementAt
</th>
<th style="text-align:left;">
description
</th>
<th style="text-align:right;">
height
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
54d79ea81b93e970075153f4
</td>
<td style="text-align:left;">
indoor
</td>
<td style="text-align:left;">
Aasee-Station
</td>
<td style="text-align:left;">
2015-02-08 17:36:40
</td>
<td style="text-align:left;">
custom
</td>
<td style="text-align:left;">
UV , Beleuchtungsstärke, Luftdruck , rel. Luftfeuchte , Temperatur
</td>
<td style="text-align:left;">
UV-Index, lx , Pa , % , °C
</td>
<td style="text-align:left;">
54d79ea81b93e970075153f6, 54d79ea81b93e970075153f7, 54d79ea81b93e970075153f8, 54d79ea81b93e970075153f9, 54d79ea81b93e970075153fa
</td>
<td style="text-align:left;">
GUVA-S12D, TSL2561 , BMP085 , DHT11 , DHT11
</td>
<td style="text-align:right;">
7.604985
</td>
<td style="text-align:right;">
51.94647
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
54e73244a807ade00f85f5bd
</td>
<td style="text-align:left;">
indoor
</td>
<td style="text-align:left;">
PhotonicNet
</td>
<td style="text-align:left;">
2015-02-20 13:10:28
</td>
<td style="text-align:left;">
custom
</td>
<td style="text-align:left;">
UV , Beleuchtungsstärke, Luftdruck , rel. Luftfeuchte , Temperatur
</td>
<td style="text-align:left;">
UV-Index, lx , Pa , % , °C
</td>
<td style="text-align:left;">
54e73244a807ade00f85f5bf, 54e73244a807ade00f85f5c0, 54e73244a807ade00f85f5c1, 54e73244a807ade00f85f5c2, 54e73244a807ade00f85f5c3
</td>
<td style="text-align:left;">
GUVA-S12D, TSL2561 , BMP085 , DHT11 , DHT11
</td>
<td style="text-align:right;">
9.635454
</td>
<td style="text-align:right;">
52.41255
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
54e7a5faa807ade00f868aab
</td>
<td style="text-align:left;">
indoor
</td>
<td style="text-align:left;">
fablab potsdam
</td>
<td style="text-align:left;">
2016-08-28 16:54:36
</td>
<td style="text-align:left;">
custom
</td>
<td style="text-align:left;">
UV , Beleuchtungsstärke, Luftdruck , rel. Luftfeuchte , Temperatur
</td>
<td style="text-align:left;">
UV-Index, lx , Pa , % , °C
</td>
<td style="text-align:left;">
54e7a5faa807ade00f868aad, 54e7a5faa807ade00f868aae, 54e7a5faa807ade00f868aaf, 54e7a5faa807ade00f868ab0, 54e7a5faa807ade00f868ab1
</td>
<td style="text-align:left;">
GUVA-S12D, TSL2561 , BMP085 , DHT11 , DHT11
</td>
<td style="text-align:right;">
13.080662
</td>
<td style="text-align:right;">
52.39649
</td>
<td style="text-align:left;">
MakeLight
</td>
<td style="text-align:left;">
2016-12-17 14:55:05
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
NA
</td>
</tr>
</tbody>
</table>
<p>We chose one ID for the following examples</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">senseBoxId</span> <span class="op">&lt;-</span> <span class="st">"592ca4b851d3460011ea2635"</span></code></pre></div>
<div id="show-location-of-sensebox" class="section level4">
<h4 class="hasAnchor">
<a href="#show-location-of-sensebox" class="anchor"></a>Show location of senseBox</h4>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">location</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_senseBox_location.html">get_senseBox_location</a></span><span class="op">(</span><span class="va">senseBoxId</span><span class="op">)</span>

<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://rstudio.github.io/leaflet/">leaflet</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/rstudio/htmltools">htmltools</a></span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/pkg/leaflet/man/leaflet.html">leaflet</a></span><span class="op">(</span><span class="va">location</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/pkg/leaflet/man/leaflet-imports.html">%&gt;%</a></span>
  <span class="fu"><a href="https://rdrr.io/pkg/leaflet/man/addProviderTiles.html">addProviderTiles</a></span><span class="op">(</span><span class="va">providers</span><span class="op">$</span><span class="va">OpenStreetMap</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/pkg/leaflet/man/leaflet-imports.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://rdrr.io/pkg/leaflet/man/map-layers.html">addTiles</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/pkg/leaflet/man/leaflet-imports.html">%&gt;%</a></span>  
  <span class="fu"><a href="https://rdrr.io/pkg/leaflet/man/map-layers.html">addMarkers</a></span><span class="op">(</span><span class="op">~</span><span class="va">long</span>, <span class="op">~</span><span class="va">lat</span>, popup <span class="op">=</span> <span class="op">~</span><span class="fu">htmltools</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/htmltools/man/htmlEscape.html">htmlEscape</a></span><span class="op">(</span><span class="va">name</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<div id="htmlwidget-5747946059d9ff3c4622" class="leaflet html-widget" style="width:672px;height:480px;">

</div>
<script type="application/json" data-for="htmlwidget-5747946059d9ff3c4622">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addProviderTiles","args":["OpenStreetMap",null,null,{"errorTileUrl":"","noWrap":false,"detectRetina":false}]},{"method":"addTiles","args":["//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"http://openstreetmap.org\">OpenStreetMap<\/a> contributors, <a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA<\/a>"}]},{"method":"addMarkers","args":[52.510952,13.392953,null,null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},"Leipziger65-Süd",null,null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[52.510952,52.510952],"lng":[13.392953,13.392953]}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="sensor-id-information" class="section level4">
<h4 class="hasAnchor">
<a href="#sensor-id-information" class="anchor"></a>Sensor Id information</h4>
<p>Get some information about the senseBox sensors</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">sensor_info</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_senseBox_sensor_info.html">get_senseBox_sensor_info</a></span><span class="op">(</span><span class="va">senseBoxId</span><span class="op">)</span></code></pre></div>
<table class="table">
<thead><tr>
<th style="text-align:left;">
name
</th>
<th style="text-align:left;">
phenomena
</th>
<th style="text-align:left;">
unit
</th>
<th style="text-align:left;">
sensorIds
</th>
<th style="text-align:left;">
sensorType
</th>
</tr></thead>
<tbody><tr>
<td style="text-align:left;">
Leipziger65-Süd
</td>
<td style="text-align:left;">
PM10 , PM2.5 , Temperatur , rel. Luftfeuchte
</td>
<td style="text-align:left;">
µg/m³, µg/m³, °C , %
</td>
<td style="text-align:left;">
592ca4b851d3460011ea2636, 592ca4b851d3460011ea2637, 592ca4b851d3460011ea2638, 592ca4b851d3460011ea2639
</td>
<td style="text-align:left;">
SDS 011, SDS 011, DHT22 , DHT22
</td>
</tr></tbody>
</table>
<p>With the argument <code>tidy = TRUE</code> a tidy data.frame will be produced:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">sensor_info</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_senseBox_sensor_info.html">get_senseBox_sensor_info</a></span><span class="op">(</span><span class="va">senseBoxId</span>, tidy <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<table class="table">
<thead><tr>
<th style="text-align:left;">
name
</th>
<th style="text-align:left;">
phenomena
</th>
<th style="text-align:left;">
unit
</th>
<th style="text-align:left;">
sensorIds
</th>
<th style="text-align:left;">
sensorType
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
Leipziger65-Süd
</td>
<td style="text-align:left;">
PM10
</td>
<td style="text-align:left;">
µg/m³
</td>
<td style="text-align:left;">
592ca4b851d3460011ea2636
</td>
<td style="text-align:left;">
SDS 011
</td>
</tr>
<tr>
<td style="text-align:left;">
Leipziger65-Süd
</td>
<td style="text-align:left;">
PM2.5
</td>
<td style="text-align:left;">
µg/m³
</td>
<td style="text-align:left;">
592ca4b851d3460011ea2637
</td>
<td style="text-align:left;">
SDS 011
</td>
</tr>
<tr>
<td style="text-align:left;">
Leipziger65-Süd
</td>
<td style="text-align:left;">
Temperatur
</td>
<td style="text-align:left;">
°C
</td>
<td style="text-align:left;">
592ca4b851d3460011ea2638
</td>
<td style="text-align:left;">
DHT22
</td>
</tr>
<tr>
<td style="text-align:left;">
Leipziger65-Süd
</td>
<td style="text-align:left;">
rel. Luftfeuchte
</td>
<td style="text-align:left;">
%
</td>
<td style="text-align:left;">
592ca4b851d3460011ea2639
</td>
<td style="text-align:left;">
DHT22
</td>
</tr>
</tbody>
</table>
</div>
<div id="download-sensebox-data" class="section level4">
<h4 class="hasAnchor">
<a href="#download-sensebox-data" class="anchor"></a>Download senseBox data</h4>
<p>We can now download data from the senseBox, either from a specific sensorId or from all sensors within the sensBox. In the following we are downloading all available sensors.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">data_all</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_senseBox_data.html">get_senseBox_data</a></span><span class="op">(</span><span class="va">senseBoxId</span><span class="op">)</span></code></pre></div>
<p>When you are interested in just a selection of sensors, just submit the sensorIds to the function <code><a href="reference/get_senseBox_data.html">get_senseBox_data()</a></code>.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">sensor_ids</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_senseBox_sensor_Ids.html">get_senseBox_sensor_Ids</a></span><span class="op">(</span><span class="va">senseBoxId</span><span class="op">)</span>

<span class="va">data_sel</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_senseBox_data.html">get_senseBox_data</a></span><span class="op">(</span><span class="va">senseBoxId</span>, 
                              sensorId <span class="op">=</span> <span class="va">sensor_ids</span><span class="op">$</span><span class="va">sensorIds</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">]</span><span class="op">)</span></code></pre></div>
<p>When using the above code, by default, the data from the last 48 h will be downloaded. You can donwload up to 10,000 records and sepcify the date of the record. The maximum time frame for downloading data is back to one month from now. Use the argument <code>fromDate</code> and <code>toDate</code> to specify the desired time frame. Note that in contrast to the code above, all sensors from the senseBox are requested (by default) because argument <code>sensorId</code> is not set.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">data_timeframe</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_senseBox_data.html">get_senseBox_data</a></span><span class="op">(</span><span class="va">senseBoxId</span>, 
                                    fromDate <span class="op">=</span> <span class="st">"2017-11-11 11:11:11"</span>, 
                                    toDate <span class="op">=</span> <span class="st">"2017-11-12 11:11:11"</span><span class="op">)</span></code></pre></div>
<p>Visualising the results from all sensors is one of the main aims and we recommend using the <strong>R</strong>-package <code>ggplot2</code>. We provide a sample code next and you just have to change the data executed in the function <code><a href="https://rdrr.io/pkg/reshape2/man/melt.html">melt()</a></code>.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org">ggplot2</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/hadley/reshape">reshape2</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://scales.r-lib.org">scales</a></span><span class="op">)</span>

<span class="va">data_melt</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/reshape2/man/melt.html">melt</a></span><span class="op">(</span><span class="va">data_timeframe</span>, id.vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"createdAt"</span>, <span class="st">"value"</span><span class="op">)</span><span class="op">)</span>

<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">data_melt</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">createdAt</span>, y <span class="op">=</span> <span class="va">value</span>, colour <span class="op">=</span> <span class="va">L2</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_date.html">scale_x_datetime</a></span><span class="op">(</span>labels <span class="op">=</span> <span class="fu"><a href="https://scales.r-lib.org/reference/label_date.html">date_format</a></span><span class="op">(</span><span class="st">"%H:%M"</span>, tz <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/timezones.html">Sys.timezone</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html">facet_wrap</a></span><span class="op">(</span><span class="op">~</span><span class="va">L2</span>, scales <span class="op">=</span> <span class="st">"free"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"bottom"</span>,
        legend.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_blank</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><img src="README_figs/README-unnamed-chunk-10-1.png" width="672"></p>
</div>
<div id="download-archived-data" class="section level4">
<h4 class="hasAnchor">
<a href="#download-archived-data" class="anchor"></a>Download archived data</h4>
<p>Receiving data with <code><a href="reference/get_senseBox_data.html">get_senseBox_data()</a></code> is limited to 10.000 data points. But every day all measured sensor data are stored in the senseBox archive. With the function <code><a href="reference/get_senseBox_archive.html">get_senseBox_archive()</a></code> the zip file from a specific senseBox for a date can be downloaded. You have to unzip the folder by yourself and every sensor data is stored in a csv file.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="reference/get_senseBox_archive.html">get_senseBox_archive</a></span><span class="op">(</span><span class="va">senseBoxId</span>,
                     date <span class="op">=</span> <span class="st">"2018-07-31"</span><span class="op">)</span></code></pre></div>
</div>
</div>
<div id="some-sensebox-statistics" class="section level3">
<h3 class="hasAnchor">
<a href="#some-sensebox-statistics" class="anchor"></a>Some senseBox statistics</h3>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">infos</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_senseBox_info.html">get_senseBox_info</a></span><span class="op">(</span><span class="va">Id_list</span><span class="op">$</span><span class="va">senseBoxId</span>, parallel <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org">dplyr</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyr.tidyverse.org">tidyr</a></span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">infos</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">name</span>, <span class="va">phenomena</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>  
  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/nest.html">unnest</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html">count</a></span><span class="op">(</span><span class="va">phenomena</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html">desc</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/top_n.html">top_n</a></span><span class="op">(</span><span class="fl">10</span>, <span class="va">n</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html">geom_histogram</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">phenomena</span>, y <span class="op">=</span> <span class="va">n</span><span class="op">)</span>, stat <span class="op">=</span> <span class="st">"identity"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>axis.text.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>angle <span class="op">=</span> <span class="fl">45</span>, hjust <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span>
<span class="co">## Warning: `cols` is now required when using unnest().</span>
<span class="co">## Please use `cols = c(phenomena)`</span>
<span class="co">## Warning: Ignoring unknown parameters: binwidth, bins, pad</span></code></pre></div>
<p><img src="README_figs/README-unnamed-chunk-14-1.png" width="672"></p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">infos</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">exposure</span>, <span class="va">grouptag</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html">n</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html">desc</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://rdrr.io/r/stats/na.fail.html">na.omit</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/top_n.html">top_n</a></span><span class="op">(</span><span class="fl">5</span>, <span class="va">n</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> 
  
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_bar</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">grouptag</span>, y <span class="op">=</span> <span class="va">n</span>, fill <span class="op">=</span> <span class="va">exposure</span><span class="op">)</span>, stat <span class="op">=</span> <span class="st">"identity"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>axis.text.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>angle <span class="op">=</span> <span class="fl">45</span>, hjust <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span>
<span class="co">## `summarise()` has grouped output by 'exposure'. You can override using the `.groups` argument.</span></code></pre></div>
<p><img src="README_figs/README-unnamed-chunk-15-1.png" width="672"></p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://lubridate.tidyverse.org">lubridate</a></span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">infos</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> 
 <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>year <span class="op">=</span> <span class="fu"><a href="https://lubridate.tidyverse.org/reference/year.html">year</a></span><span class="op">(</span><span class="va">createdAt</span><span class="op">)</span>,
        month <span class="op">=</span> <span class="fu"><a href="https://lubridate.tidyverse.org/reference/month.html">month</a></span><span class="op">(</span><span class="va">createdAt</span><span class="op">)</span>,
        day <span class="op">=</span> <span class="fu"><a href="https://lubridate.tidyverse.org/reference/day.html">day</a></span><span class="op">(</span><span class="va">createdAt</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">year</span>, <span class="va">exposure</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html">n</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html">desc</a></span><span class="op">(</span><span class="va">year</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> 
  
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_bar</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">year</span>, y <span class="op">=</span> <span class="va">n</span>, fill <span class="op">=</span> <span class="va">exposure</span><span class="op">)</span>, stat <span class="op">=</span> <span class="st">"identity"</span><span class="op">)</span>
<span class="co">## `summarise()` has grouped output by 'year'. You can override using the `.groups` argument.</span></code></pre></div>
<p><img src="README_figs/README-unnamed-chunk-17-1.png" width="672"></p>
</div>
<div id="available-senseboxes" class="section level2">
<h2 class="hasAnchor">
<a href="#available-senseboxes" class="anchor"></a>Available senseBoxes</h2>
<p><a href="http://rpubs.com/Johnsenfr/488288">This site</a> offers a list of all available senseBoxes (27-01-2020). You can search for any keyword you are interested in.</p>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/JohannesFriedrich/senseBox/">https://​github.com/​JohannesFriedrich/​senseBox/​</a>
</li>
<li>Report a bug at <br><a href="https://github.com/JohannesFriedrich/senseBox/issues">https://​github.com/​JohannesFriedrich/​senseBox/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Johannes Friedrich <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/JohannesFriedrich/senseBox/actions"><img src="https://github.com/JohannesFriedrich/senseBox/workflows/R-CMD-check/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://ci.appveyor.com/project/JohannesFriedrich/sensebox/branch/master"><img src="https://ci.appveyor.com/api/projects/status/oljck059k9io6qe7/branch/master?svg=true" alt="Build status"></a></li>
<li><a href="https://codecov.io/gh/JohannesFriedrich/senseBox"><img src="https://codecov.io/gh/JohannesFriedrich/senseBox/branch/master/graph/badge.svg" alt="Coverage Status"></a></li>
<li><a href="http://www.repostatus.org/#active"><img src="http://www.repostatus.org/badges/latest/active.svg" alt="Project Status: Active – The project has reached a stable, usable state and is being actively developed."></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by Johannes Friedrich.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
